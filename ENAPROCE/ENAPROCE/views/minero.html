<section>
    <div class="row">
        <div class="col-xs-12">
            <div class="ribbon text-center"><b>Consulta de información</b> <span class="glyphicon glyphicon-th"></span></div>
        </div>
    </div>
    <br />
    <div id="dominioContainer">       
        <div class="row">
            <div class="col-xs-12">
                <div class="row" ng-repeat="d in dominioCollection">
                    <div class="col-xs-12">
                        <label for="">{{d.title}}</label>
                        <select ng-model="dominioSelected" ng-change="filterDominio(dominioSelected,d.group)" ng-options="dom as dom.descripcion for dom in d.collection">
                            <option value="">-- seleccione--</option>
                        </select>
                        <!--selected:{{dominioSelected}}-->
                    </div>
                    <br/>
                </div>
            </div>
        </div>
        
    </div>

    <div class="row">
        <div class="col-xs-12">
            <div class="ribbon text-center"><b>Consulta por: {{ribbonTitle}}</b> <span class="glyphicon glyphicon-th-list"></span></div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <h5 ng-bind="ribbonTitle"></h5>
            <div class="content" ng-show="content.length > 0">
                <ul>
                    <li ng-repeat="c in content">
                        {{c.descripcion}}
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <br />
    <div id="variableContainer">
        <div class="row">
            <div class="col-xs-12">
                <div class="row" ng-repeat="v in variableCollection">
                    <div class="col-xs-12">
                        <label for="">{{v.title}}</label>
                        <select ng-model="variableSelected" ng-change="filterVariable(variableSelected,v.group)" ng-options="vi as vi.descripcion for vi in v.collection">
                            <option value="">-- seleccione--</option>
                        </select>
                    </div>
                    <br />
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">
         
            <div class="ribbon text-center"><button class="btn btn-primary" ng-disabled="ribbonTitle=='' || tabVariable.length==0" ng-click="getConsulta()" id="btnQuery" type="button">Consultar <span class="glyphicon  glyphicon-search"></span></button></div>
        </div>
    </div>
</section>
<br />
<br />
<br />
<section style="width:100%; overflow-x:scroll">
    <table class="table table-striped table-bordered" id="tablaXls">
        <thead >
            <tr>
                <th style ="text-align:center" ng-repeat="h in tablahds">{{h}}</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="d in tabla">
                <td>
                    {{d['Dominio']}}
                </td>
                <td  style="text-align:center" ng-repeat="x in d" ng-if="x!=d['Dominio']">
                    <span ng-if="x!='*'">{{x | number}}</span>
                    <span ng-if="x=='*'">{{x}}</span> 
                </td>
            </tr>
        </tbody>
    </table>
</section>
<br /><br />
<div class="row" ng-show="tablahds.length>0">
    <div class="col-xs-12">
        <div class="ribbon text-center"><button class="btn btn-primary" ng-click="exportToExcel('tablaXls','datos.xls')" id="btnQuery" type="button">Descargar <span class="glyphicon glyphicon-save"></span></button></div>
    </div>
</div>